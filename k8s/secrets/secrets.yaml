# k8s/secrets/secrets.yaml
# ─────────────────────────────────────────────
# Define la ESTRUCTURA del Secret pero sin valores reales.
# Los valores se cargan manualmente con kubectl o
# desde un gestor de secretos (GCP Secret Manager).
#
# ⚠️ NUNCA commitear valores reales en este archivo.
#    Los placeholders son solo para documentar las keys.
# ─────────────────────────────────────────────
apiVersion: v1
kind: Secret
metadata:
  name: bookshelf-secrets
  namespace: bookshelf
  labels:
    app: bookshelf
    managed-by: kubectl
type: Opaque
# Los valores van en base64. Para generarlos:
#   echo -n "mi-valor" | base64
#
# Para cargar el secret sin exponer valores en el repo:
#   kubectl create secret generic bookshelf-secrets \
#     --namespace=bookshelf \
#     --from-literal=database-url="postgresql://user:pass@postgres-service:5432/bookshelf" \
#     --from-literal=secret-key="mi-secret-key-segura" \
#     --from-literal=db-user="bookshelf_user" \
#     --from-literal=db-password="mi-password-seguro" \
#     --dry-run=client -o yaml | kubectl apply -f -
#
data:
  database-url: REEMPLAZAR_CON_BASE64   # postgresql://user:pass@postgres-service:5432/bookshelf
  secret-key:   REEMPLAZAR_CON_BASE64   # clave secreta de la app FastAPI
  db-user:      REEMPLAZAR_CON_BASE64   # usuario de Postgres
  db-password:  REEMPLAZAR_CON_BASE64   # password de Postgres
